function revokeClaim(address _recipient) external onlyAdmin hasActiveClaim(_recipient) { Claim storage _claim = claims[_recipient]; uint112 finalVestAmt = finalVestedAmount(_recipient); require( _claim.amountWithdrawn < finalVestAmt, "NO_UNVESTED_AMOUNT"); uint112 amountRemaining = finalVestAmt - _claim.amountWithdrawn; _claim.isActive = false; numTokensReservedForVesting -= amountRemaining; emit ClaimRevoked(_recipient, amountRemaining, uint40(block.timestamp), _claim); }
